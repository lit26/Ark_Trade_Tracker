(this.webpackJsonpark_trade_tracker=this.webpackJsonpark_trade_tracker||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n(0),a=n(13),o=n.n(a);n(87),n(88);var i=function(){return Object(c.jsx)("div",{className:"Footer",children:Object(c.jsx)("div",{children:"Copyright \xa9 2020 Tianning Li. All Rights Reserved."})})},s=n(11),l=n(22),u=(n(90),n(91),n(92),n(7)),d=function(e){return{type:"SET_TICKER",payload:e}},j=function(e){return{type:"SET_DATE",payload:e}};var b=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(u.b)(),i=Object(u.c)((function(e){return e.ticker}));return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=n;return a(""),Promise.resolve(o(d(t))).then((function(){return o(j(""))}))},children:[Object(c.jsx)("div",{children:Object(c.jsx)("input",{value:n,className:"Tickerinput",placeholder:i,type:"text",onChange:function(e){a(e.target.value.toUpperCase())}})}),Object(c.jsx)("button",{type:"submit",style:{display:"none"},children:"Submit"})]})},h=n(145);var O=function(){var e=Object(u.c)((function(e){return e.funds})),t=Object(u.b)();return Object(c.jsxs)(h.a,{className:"Menu__dropdown",onSelect:function(e){t({type:"SET_FUNDS",payload:e})},children:[Object(c.jsx)(h.a.Toggle,{variant:"light",className:"Menu__dropdownButton",children:e}),Object(c.jsxs)(h.a.Menu,{className:"Menu__dropdownItems",children:[Object(c.jsx)(h.a.Item,{eventKey:"All",children:"All Funds"}),Object(c.jsx)(h.a.Item,{eventKey:"ARKK",children:"ARKK"}),Object(c.jsx)(h.a.Item,{eventKey:"ARKQ",children:"ARKQ"}),Object(c.jsx)(h.a.Item,{eventKey:"ARKW",children:"ARKW"}),Object(c.jsx)(h.a.Item,{eventKey:"ARKG",children:"ARKG"}),Object(c.jsx)(h.a.Item,{eventKey:"ARKF",children:"ARKF"})]})]})},f=n(146);var v=function(){var e=Object(u.c)((function(e){return e.date})),t=Object(u.b)();return Object(c.jsx)("div",{className:"Dateinput",children:Object(c.jsx)(f.a.Group,{controlId:"ark_trade",children:Object(c.jsx)(f.a.Control,{type:"date",name:"ark_trade",value:e,placeholder:"Date of Ark_trade",onChange:function(e){t(j(e.target.value))}})})})},g=n(56),p=n.n(g);var x=function(){var e=Object(u.b)();return Object(c.jsxs)(h.a,{className:"Menu__dropdown Menu__table",onSelect:function(t){e({type:"SET_TABLE_VIEW",payload:t})},children:[Object(c.jsx)(h.a.Toggle,{variant:"light",className:"Menu__dropdownButton",children:Object(c.jsx)(p.a,{})}),Object(c.jsxs)(h.a.Menu,{className:"Menu__dropdownItems",children:[Object(c.jsx)(h.a.Item,{eventKey:"trade",children:"Trades"}),Object(c.jsx)(h.a.Item,{eventKey:"holding",children:"Holding"})]})]})},m=n(55);var _=function(){var e=Object(u.b)();return Object(c.jsxs)("div",{className:"Menu",children:[Object(c.jsx)("div",{children:Object(c.jsx)(x,{})}),Object(c.jsx)("div",{children:Object(c.jsx)(O,{})}),Object(c.jsx)("div",{children:Object(c.jsx)(b,{})}),Object(c.jsx)("div",{children:Object(c.jsx)(v,{})}),Object(c.jsx)("div",{className:"Menu__reset",children:Object(c.jsx)(m.a,{onClick:function(){e(j(""))},children:"Reset"})})]})},k=n(10),y=n(39),T=n(144);n(104);var w=function(e){var t=e.trades,n=e.table_columns,a=Object(r.useMemo)((function(){return n}),[n]),o=Object(r.useMemo)((function(){return t}),[t]),i=Object(y.useTable)({columns:a,data:o,initialState:{pageIndex:0}},y.usePagination),s=i.getTableProps,l=i.getTableBodyProps,u=i.headerGroups,d=i.page,j=i.nextPage,b=i.previousPage,h=i.canPreviousPage,O=i.canNextPage,f=i.pageOptions,v=i.state,g=i.gotoPage,p=i.pageCount,x=i.prepareRow,_=v.pageIndex;return Object(c.jsxs)("div",{className:"Tradetable",children:[Object(c.jsxs)(T.a,Object(k.a)(Object(k.a)({striped:!0,bordered:!0,hover:!0,variant:"dark"},s()),{},{children:[Object(c.jsx)("thead",{children:u.map((function(e){return Object(c.jsx)("tr",Object(k.a)(Object(k.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(c.jsx)("th",Object(k.a)(Object(k.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(c.jsx)("tbody",Object(k.a)(Object(k.a)({},l()),{},{children:d.map((function(e){return x(e),Object(c.jsx)("tr",Object(k.a)(Object(k.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(c.jsx)("td",Object(k.a)(Object(k.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),Object(c.jsxs)("div",{className:"Tradetable__page",children:[Object(c.jsx)(m.a,{onClick:function(){return g(0)},disabled:!h,children:"<<"})," ",Object(c.jsx)(m.a,{onClick:function(){return b()},disabled:!h,children:"Previous"})," ",Object(c.jsxs)("span",{children:["Page"," ",Object(c.jsxs)("strong",{children:[_+1," of ",f.length]})," "]}),Object(c.jsx)(m.a,{onClick:function(){return j()},disabled:!O,children:"Next"})," ",Object(c.jsx)(m.a,{onClick:function(){return g(p-1)},disabled:!O,children:">>"})," "]})]})},F=(n(105),n(57)),C=n.n(F),S=n(58),E=n.n(S);var N=function(e){var t=e.data,n=Object(r.useState)([]),a=Object(s.a)(n,2),o=a[0],i=a[1],l=Object(r.useState)([]),u=Object(s.a)(l,2),d=u[0],j=u[1];return Object(r.useEffect)((function(){var e=[],n=[];t.slice(0,10).map((function(t){return e.push(t[0]),n.push(t[1]),""})),j(e),i(n)}),[t]),Object(c.jsx)(E.a,{data:[{type:"pie",values:o,labels:d,name:"Portfolio",hole:.5,showlegend:!1}],layout:{width:250,height:200,autosize:!0,automargin:!0,margin:{l:30,r:30,b:10,t:10},hovermode:"closest",plot_bgcolor:"#222838",paper_bgcolor:"#222838",font:{family:"Open Sans, sans-serif",size:13,color:"white"},legend:{font:{color:"#CCCCCC",size:10},orientation:"v",bgcolor:"rgba(0,0,0,0)"}}})};var A=function(){var e=Object(u.c)((function(e){return e.funds})),t=Object(u.c)((function(e){return e.date})),n=Object(r.useState)([]),a=Object(s.a)(n,2),o=a[0],i=a[1],j=Object(r.useState)([]),b=Object(s.a)(j,2),h=b[0],O=b[1],f=Object(u.b)(),v=function(t){l.a("https://raw.githubusercontent.com/lit26/Ark_Trade/main/ark_holding/".concat(t)).then((function(t){t.forEach((function(e){e["market value($)"]=+e["market value($)"],e.shares=+e.shares,e["weight(%)"]=+e["weight(%)"]})),"All"!==e&&(t=t.filter((function(t){return t.fund===e}))),i(t)})).catch((function(e){console.log(e)}))};return Object(r.useEffect)((function(){if(""===t)C.a.get("https://raw.githubusercontent.com/lit26/Ark_Trade/main/scripts/info.json").then((function(e){v(e.data["latest file"])})).catch((function(e){console.log(e)}));else{var e=t.split("-");e="".concat(e[1],"-").concat(e[2],"-").concat(e[0]),v("Ark_holding_".concat(e,".csv"))}}),[t,e]),Object(r.useEffect)((function(){var t=[];"All"===e?o.map((function(e){return t.push(["".concat(e.ticker,"-").concat(e.fund),e["market value($)"]]),""})):o.map((function(e){return t.push(["".concat(e.ticker),e["market value($)"]]),""})),t.sort((function(e,t){return t[1]-e[1]})),O(t)}),[o,e]),Object(c.jsxs)("div",{className:"Portfolio",children:[Object(c.jsx)("div",{className:"Portfolio__setting",children:Object(c.jsx)("h4",{style:{fontWeight:"bold"},children:"Portfolio"})}),Object(c.jsx)("div",{className:"Portfolio__chart",children:Object(c.jsx)(N,{data:h})}),Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{className:"Portfolio__header",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Symbol"}),Object(c.jsx)("th",{})]})}),Object(c.jsx)("tbody",{children:h.slice(0,15).map((function(e,t){return Object(c.jsxs)("tr",{onClick:function(){return t=e[0],void f(d(t.split("-")[0]));var t},children:[Object(c.jsx)("td",{children:e[0]}),Object(c.jsxs)("td",{children:["$",e[1].toLocaleString()]})]},"watchlist_".concat(t))}))})]})]})};function H(e){return e.toLocaleString()}var K=[{Header:"Date",Footer:"Date",accessor:"date",sticky:"left"},{Header:"Fund",Footer:"Fund",accessor:"fund",sticky:"left"},{Header:"Company",Footer:"Company",accessor:"company",sticky:"left"},{Header:"Ticker",Footer:"Ticker",accessor:"ticker",sticky:"left"},{Header:"Holding",Footer:"Holding",accessor:"holding",Cell:function(e){return Object(c.jsx)(c.Fragment,{children:H(e.value)})}},{Header:"Market Value",Footer:"Market Value",accessor:"market value($)",Cell:function(e){return Object(c.jsxs)(c.Fragment,{children:["$",H(e.value)]})}},{Header:"Weight",Footer:"Weight",accessor:"weight(%)",Cell:function(e){return Object(c.jsxs)(c.Fragment,{children:[H(e.value),"%"]})}},{Header:"Action",Footer:"Action",accessor:"action",sticky:"left"},{Header:"Shares",Footer:"Shares",accessor:"shares",Cell:function(e){return Object(c.jsx)(c.Fragment,{children:H(e.value)})}}],P=[{Header:"Date",Footer:"Date",accessor:"date",sticky:"left"},{Header:"Fund",Footer:"Fund",accessor:"fund",sticky:"left"},{Header:"Company",Footer:"Company",accessor:"company",sticky:"left"},{Header:"Ticker",Footer:"Ticker",accessor:"ticker",sticky:"left"},{Header:"Holding",Footer:"Holding",accessor:"holding",Cell:function(e){return Object(c.jsx)(c.Fragment,{children:H(e.value)})}},{Header:"Market Value",Footer:"Market Value",accessor:"market value($)",Cell:function(e){return Object(c.jsxs)(c.Fragment,{children:["$",H(e.value)]})}},{Header:"Weight",Footer:"Weight",accessor:"weight(%)",Cell:function(e){return Object(c.jsxs)(c.Fragment,{children:[H(e.value),"%"]})}},{Header:"% change",Footer:"% change",accessor:"% change",Cell:function(e){return Object(c.jsxs)(c.Fragment,{children:[(t=e.value,void 0!==t?t.toFixed(2):t),"%"]});var t}}];var I=function(){var e=Object(u.c)((function(e){return e.funds})),t=Object(u.c)((function(e){return e.ticker})),n=Object(u.c)((function(e){return e.date})),a=Object(u.c)((function(e){return e.tableView})),o=Object(u.b)(),i=Object(r.useState)([]),d=Object(s.a)(i,2),j=d[0],b=d[1],h=Object(r.useState)([]),O=Object(s.a)(h,2),f=O[0],v=O[1],g=Object(r.useState)([]),p=Object(s.a)(g,2),x=p[0],m=p[1];return Object(r.useEffect)((function(){if(""===n){var e="trades.csv";"holding"===a&&(e="holdings.csv"),l.a("https://raw.githubusercontent.com/lit26/Ark_Trade/main/".concat(e)).then((function(e){e.forEach((function(e){e.holding=+e.holding.toLocaleString(),e["market value($)"]=+e["market value($)"],e.shares=+e.shares,e["weight(%)"]=+e["weight(%)"],"holding"===a&&(e["% change"]=+e["% change"])})),b(e)}))}else{var t=n.split("-");!function(e){l.a("https://raw.githubusercontent.com/lit26/Ark_Trade/main/ark_trading/Ark_trade_".concat(e)).then((function(e){e.forEach((function(e){e["No."]=+e["No."],e.holding=+e.holding.toLocaleString(),e["market value($)"]=+e["market value($)"],e.shares=+e.shares,e["weight(%)"]=+e["weight(%)"],e["% change"]=+e["% change"]})),b(e)})).catch((function(e){console.log(e)}))}("".concat(t[1],"-").concat(t[2],"-").concat(t[0],".csv"))}}),[n,o,a]),Object(r.useEffect)((function(){var c=j;"trade"===a?(""!==n&&(c=c.filter((function(e){return"Hold"!==e.action}))),m(K)):(""!==n&&(c=c.filter((function(e){return"Hold"===e.action}))),m(P)),""!==t&&(c=c.filter((function(e){return e.ticker===t}))),"All"!==e&&(c=c.filter((function(t){return t.fund===e}))),v(c)}),[e,n,t,a,j]),Object(c.jsxs)("div",{className:"Display",children:[Object(c.jsxs)("div",{className:"Display__left",children:[Object(c.jsx)(_,{}),Object(c.jsx)(w,{trades:f,table_columns:x})]}),Object(c.jsx)("div",{className:"Display__right",children:Object(c.jsx)(A,{})})]})};n(127);var R=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("div",{className:"Header",children:Object(c.jsx)("h1",{children:"Ark Invest Tracker"})}),Object(c.jsx)("div",{className:"Content",children:Object(c.jsx)("div",{children:Object(c.jsx)(I,{})})}),Object(c.jsx)(i,{})]})},D=n(16),M=Object(D.b)({ticker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TICKER":return t.payload;default:return e}},funds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"All",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FUNDS":return t.payload;default:return e}},date:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATE":return t.payload;default:return e}},tableView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"trade",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TABLE_VIEW":return t.payload;default:return e}}}),$=Object(D.c)(M,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(c.jsx)(u.a,{store:$,children:Object(c.jsx)(R,{})}),document.getElementById("root"))},87:function(e,t,n){},88:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){}},[[129,1,2]]]);
//# sourceMappingURL=main.685993c2.chunk.js.map